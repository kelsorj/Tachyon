<UserControl x:Class="HiGIntegrationTestApp.HiGPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:utils="clr-namespace:BioNex.Shared.Utils;assembly=Utils"
             mc:Ignorable="d" 
             d:DesignHeight="340" d:DesignWidth="498">
    
    <UserControl.Resources>
        <Style TargetType="{x:Type Button}">
            <Setter Property="Margin" Value="3" />
            <Setter Property="MinWidth" Value="100" />
        </Style>
        <Style TargetType="{x:Type TextBlock}">
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
        </Style>
        <Style TargetType="{x:Type TextBox}">
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
        <Style TargetType="{x:Type CheckBox}">
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
    </UserControl.Resources>
    
    <Grid>
        <StackPanel Orientation="Vertical">
            <!-- initialize -->
            <DockPanel>
                <Button Width="Auto" HorizontalAlignment="Right" DockPanel.Dock="Right" Command="{Binding PackForShipmentCommand}">Pack for Shipment</Button>
                <Button Width="Auto" HorizontalAlignment="Right" DockPanel.Dock="Right" Command="{Binding FirstTimeSetupCommand}">First-time Setup</Button>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Button Grid.Row="0" x:Name="Initialize" Command="{Binding InitializeCommand}">Initialize</Button>
                    <StackPanel Grid.Row="1" Orientation="Horizontal" DockPanel.Dock="Left">
                        <TextBlock>Adapter ID:</TextBlock>
                        <!-- TextBox x:Name="adapter_id">0</TextBox -->
                        <ComboBox ItemsSource="{Binding AvailableAdapterIds}" IsSynchronizedWithCurrentItem="True" Margin="3" />
                        <CheckBox x:Name="simulate" IsChecked="False" Margin="5,0,5,0"></CheckBox>
                        <TextBlock>Simulate?</TextBlock>
                        <CheckBox x:Name="blocking" IsChecked="False" Margin="5,0,5,0"></CheckBox>
                        <TextBlock>Blocking?</TextBlock>
                    </StackPanel>
                </Grid>
            </DockPanel>
            <!-- home / is homed-->
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Button Grid.Row="0" Grid.Column="0" Command="{Binding HomeCommand}">Home</Button>
                <utils:StatusIndicator Grid.Column="1" Grid.Row="0" Width="120" IndicatorText="{Binding InitializedNotInitializedText}" IndicatorTextColor="{Binding InitializedNotInitializedForeground}"  OutlineWidth="120" OutlineHeight="23" OutlineColor="Gray" OutlineRadius="5" FillColor="{Binding InitializedNotInitializedBackground}" FillWidth="116" FillHeight="17" FillRadius="4" Margin="3"/>
                <utils:StatusIndicator Grid.Column="2" Grid.Row="0" Width="90" IndicatorText="{Binding HomedNotHomedText}" IndicatorTextColor="{Binding HomedNotHomedForeground}"  OutlineWidth="90" OutlineHeight="23" OutlineColor="Gray" OutlineRadius="5" FillColor="{Binding HomedNotHomedBackground}" FillWidth="85" FillHeight="17" FillRadius="4" Margin="3"/>
            </Grid>            
            <!-- open shield -->
            <UniformGrid Rows="1">
                <Button Command="{Binding OpenShieldToBucket1Command}">Open to Bucket 1</Button>
                <Button Command="{Binding OpenShieldToBucket2Command}">Open to Bucket 2</Button>
                <!-- TextBlock Text="{Binding CurrentBucketText}" HorizontalAlignment="Stretch" Background="{Binding CurrentBucketBackground}" Foreground="{Binding CurrentBucketForeground}" Margin="3" /-->
                <utils:StatusIndicator IndicatorText="{Binding CurrentBucketText}" IndicatorTextColor="{Binding CurrentBucketForeground}" OutlineWidth="140" OutlineHeight="23" OutlineColor="Gray" OutlineRadius="5" FillColor="{Binding CurrentBucketBackground}" FillWidth="136" FillHeight="17" FillRadius="4" Margin="3"/>
            </UniformGrid>
            <!-- cycle time -->
            <Button Command="{Binding ShowCycleTimeCommand}">Get Estimated Cycle Time</Button>
            <!-- spin -->
            <StackPanel Orientation="Horizontal">
                <Button x:Name="Spin" Command="{Binding SpinCommand}">Spin</Button>
                <TextBlock>Gs:</TextBlock>
                <TextBox x:Name="g">1000</TextBox>
                <TextBlock>Accel (%):</TextBlock>
                <TextBox x:Name="accel">100</TextBox>
                <TextBlock>Decel (%):</TextBlock>
                <TextBox x:Name="decel">100</TextBox>
                <TextBlock>Time at cruise velocity (sec):</TextBlock>
                <TextBox x:Name="time">10</TextBox>
            </StackPanel>
            <!-- others -->
            <Button Command="{Binding AbortSpinCommand}">Abort Spin</Button>
            <Button x:Name="GetFirmwareVersion" Click="GetFirmwareVersion_Click">Get Firmware Version</Button>
            <Button x:Name="GetSerialNumber" Click="GetSerialNumber_Click">Get Serial Number</Button>
            <Button x:Name="GetLastError" Click="GetLastError_Click">Get Last Error</Button>
            <Button x:Name="ShowDiagnostics" Click="ShowDiagnostics_Click">Show Diagnostics</Button>
            <Button x:Name="EditEepromSettings" Click="EditEepromSettings_Click">Edit EEPROM Settings</Button>
            <Button x:Name="Close2" Command="{Binding CloseCommand}">Close</Button>
        </StackPanel>
        <!-- time remaining overlay -->
        <TextBlock Visibility="{Binding TimeOverlayVisibility}" Text="{Binding TimeOverlayString}" IsHitTestVisible="False" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Arial" FontSize="150" FontWeight="DemiBold" Foreground="Red" Opacity="0.4"></TextBlock>
    </Grid>
</UserControl>
