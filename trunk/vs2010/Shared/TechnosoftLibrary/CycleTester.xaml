<UserControl x:Class="BioNex.Shared.TechnosoftLibrary.CycleTester"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    PreviewKeyUp="UserControl_PreviewKeyUp"
    Height="339" Width="583">
    
    <UserControl.Resources>
        <Style x:Key="{x:Type Button}" TargetType="{x:Type Button}">
            <Setter Property="Margin" Value="3" />
        </Style>
        <Style x:Key="{x:Type TextBlock}" TargetType="{x:Type TextBlock}">
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
        <Style x:Key="{x:Type TextBox}" TargetType="{x:Type TextBox}">
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
    </UserControl.Resources>
    
    <DockPanel>
        <!-- maintenance stuff -->
        <GroupBox Header="Maintenance Information" DockPanel.Dock="Top">
            <ListView ItemsSource="{Binding ControllerInformation}">
                <ListView.View>
                    <GridView>
                        <GridView.Columns>
                            <GridViewColumn Header="Controller Type"></GridViewColumn>
                            <GridViewColumn Header="Serial Number"></GridViewColumn>
                            <GridViewColumn Header="Application ID"></GridViewColumn>
                            <GridViewColumn Header="Cycle Count"></GridViewColumn>
                        </GridView.Columns>
                    </GridView>
                </ListView.View>
            </ListView>
        </GroupBox>
        <!-- cycler stuff -->
        <GroupBox Header="Cycler" DockPanel.Dock="Bottom">
            <Grid>
                <Grid.ColumnDefinitions>
                    <!-- axis ID selection -->
                    <ColumnDefinition Width="150"></ColumnDefinition>
                    <!-- positions -->
                    <ColumnDefinition MinWidth="225"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <!-- axis ID selection -->
                <DockPanel>
                    <TextBlock DockPanel.Dock="Top">Select axis IDs to cycle:</TextBlock>
                    <Button DockPanel.Dock="Bottom" Command="{Binding StopCommand}">Stop</Button>
                    <Button DockPanel.Dock="Bottom" Command="{Binding StartCommand}">Start Cycle Testing</Button>
                    <ListBox DockPanel.Dock="Top" ItemsSource="{Binding AxisIds}" SelectionMode="Multiple"></ListBox>
                </DockPanel>
                <!-- positions -->
                <DockPanel Grid.Column="1">
                    <TextBlock DockPanel.Dock="Top">Positions to cycle through:</TextBlock>
                    <StackPanel DockPanel.Dock="Bottom" Orientation="Vertical">
                        <Button ToolTip="Shortcut: Ins" Command="{Binding AddPositionCommand}">
                            <Button.Content>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock>Add position of</TextBlock>
                                    <TextBox Text="{Binding NewPosition}" MinWidth="30" Margin="3" VerticalAlignment="Center"></TextBox>
                                    <TextBlock>mm</TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        <Button ToolTip="Shortcut: Del" Command="{Binding DeletePositionCommand}">Delete selected position</Button>
                    </StackPanel>
                    <StackPanel DockPanel.Dock="Bottom" Orientation="Vertical">
                        <CheckBox Margin="3" IsChecked="{Binding ExecutePermutationsChecked}" ToolTip="e.g. 1, 2, 1, 3, 1, 4, 2, 1, 2, 3, 2, 4, ...">execute all permutations</CheckBox>
                        <CheckBox Margin="3" IsChecked="{Binding DelayAfterMoveChecked}">
                            <CheckBox.Content>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock>delay</TextBlock>
                                    <TextBox Text="{Binding DelaySeconds}" Margin="3" MinWidth="20"></TextBox>
                                    <TextBlock>seconds after each move</TextBlock>
                                </StackPanel>
                            </CheckBox.Content>
                        </CheckBox>
                        <CheckBox Margin="3" IsChecked="{Binding PositionGraphingChecked}" ToolTip="Enables position logging on the controllers.  Saves data in logs folder.">
                            <CheckBox.Content>
                                <TextBlock>save position logs for each move</TextBlock>
                            </CheckBox.Content>
                        </CheckBox>
                    </StackPanel>
                    <ListView DockPanel.Dock="Top" ItemsSource="{Binding Positions}" SelectedIndex="{Binding SelectedPositionIndex, Mode=OneWayToSource}">
                        <ListView.View>
                            <GridView>
                                <GridView.Columns>
                                    <GridViewColumn Header="Index" DisplayMemberBinding="{Binding Index}"></GridViewColumn>
                                    <GridViewColumn Header="Position (mm)" DisplayMemberBinding="{Binding Position}"></GridViewColumn>
                                </GridView.Columns>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </DockPanel>
            </Grid>
        </GroupBox>
    </DockPanel>
</UserControl>
