<Window x:Class="BioNex.HivePrototypePlugin.TeachpointInterpolationDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:utils="clr-namespace:BioNex.Shared.Utils;assembly=Utils"
    Title="Teachpoint Interpolation" Height="500" Width="400">

    <Window.Resources>
        <utils:StringFormatter x:Key="PositionFormatConverter" />
        <Style x:Key="LabelStyle" TargetType="Label">
            <Setter Property="HorizontalContentAlignment" Value="Right" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
    </Window.Resources>
    
    <DockPanel>
        <!-- parameters -->
        <Grid DockPanel.Dock="Top">
            <Grid.RowDefinitions>
                <RowDefinition Height="27"></RowDefinition>
                <RowDefinition Height="27"></RowDefinition>
                <RowDefinition Height="27"></RowDefinition>
                <RowDefinition Height="27"></RowDefinition>
                <RowDefinition Height="27"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <!-- labels -->
            <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource LabelStyle}" Content="Top left teachpoint:"></Label>
            <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource LabelStyle}" Content="Bottom left teachpoint:"></Label>
            <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource LabelStyle}" Content="Bottom right teachpoint:" IsEnabled="False" Name="BottomRightTeachpointLabel"></Label>
            <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource LabelStyle}">Number of shelves:</Label>
            <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource LabelStyle}">Number of racks:</Label>
            <!-- values -->
            <ComboBox Grid.Row="0" Grid.Column="1" Margin="3" ItemsSource="{Binding TopTeachpointNames}" IsSynchronizedWithCurrentItem="True" />
            <ComboBox Grid.Row="1" Grid.Column="1" Margin="3" ItemsSource="{Binding BottomTeachpointNames}" IsSynchronizedWithCurrentItem="True" />
            <ComboBox Grid.Row="2" Grid.Column="1" Margin="3" ItemsSource="{Binding BottomRightTeachpointNames}" IsSynchronizedWithCurrentItem="True" IsEnabled="False" Name="BottomRightTeachpointComboBox"/>
            <ComboBox Grid.Row="3" Grid.Column="1" Margin="3" ItemsSource="{Binding NumberOfShelvesItems}" SelectedItem="{Binding NumberOfShelves}" IsSynchronizedWithCurrentItem="True" />
            <ComboBox Grid.Row="4" Grid.Column="1" Margin="3" ItemsSource="{Binding NumberOfRacksItems}" SelectedItem="{Binding NumberOfRacks}" IsSynchronizedWithCurrentItem="True" />
        </Grid>
        <!-- preview & execution -->
        <Grid DockPanel.Dock="Bottom">
            <GroupBox BorderBrush="DarkOrange" Header="Interpolation Preview">
                <DockPanel>
                    <TextBlock DockPanel.Dock="Top" TextWrapping="Wrap" Margin="3">When you click Interpolate, the following teachpoints will be created for you automagically:</TextBlock>
                    <Button DockPanel.Dock="Bottom" Margin="3" Command="{Binding InterpolateTeachpointsCommand}">Interpolate</Button>
                    <ListView ItemsSource="{Binding InterpolatedTeachpoints}">
                        <ListView.View>
                            <GridView AllowsColumnReorder="False">
                                <GridViewColumn Header="Name" Width="150" DisplayMemberBinding="{Binding Path=Name}" />
                                <GridViewColumn Header="X" Width="50" DisplayMemberBinding="{Binding Path=X, Converter={StaticResource PositionFormatConverter}, ConverterParameter='\{0:0.000\}'}" />
                                <GridViewColumn Header="Y" Width="50" DisplayMemberBinding="{Binding Path=Y, Converter={StaticResource PositionFormatConverter}, ConverterParameter='\{0:0.000\}'}" />
                                <GridViewColumn Header="Z" Width="50" DisplayMemberBinding="{Binding Path=Z, Converter={StaticResource PositionFormatConverter}, ConverterParameter='\{0:0.000\}'}" />                                
                            </GridView>
                        </ListView.View>
                    </ListView>
                </DockPanel>
            </GroupBox>
        </Grid>
    </DockPanel>
</Window>
