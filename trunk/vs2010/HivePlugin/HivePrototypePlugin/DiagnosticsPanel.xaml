<UserControl x:Class="BioNex.HivePrototypePlugin.DiagnosticsPanel"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:utils="clr-namespace:BioNex.Shared.Utils;assembly=Utils"
    xmlns:local="clr-namespace:BioNex.HivePrototypePlugin"
    xmlns:tsm="clr-namespace:BioNex.Shared.TechnosoftLibrary;assembly=TechnosoftLibraryMT"
    Height="Auto" Width="Auto" Loaded="UserControl_Loaded" Unloaded="UserControl_Unloaded" KeyUp="UserControl_KeyUp" >
    
    <UserControl.Resources>
        <utils:StringFormatter x:Key="PositionFormatConverter" />       
        <Style x:Key="PositionReadoutStyle">
            <Setter Property="TextBlock.TextAlignment" Value="Right" />
            <Setter Property="TextBlock.VerticalAlignment" Value="Center" />
            <Setter Property="TextBlock.Background" Value="Black" />
            <Setter Property="TextBlock.Foreground" Value="Green" />
            <Setter Property="TextBlock.FontSize" Value="16" />
            <Setter Property="TextBlock.FontWeight" Value="Bold" />
        </Style>
        <Style x:Key="PositionStyle" TargetType="{x:Type TextBox}">
            <Setter Property="TextAlignment" Value="Right" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Background" Value="Black" />
            <Setter Property="Foreground" Value="Green" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="IsReadOnly" Value="True" />
            <Setter Property="Margin" Value="3" />
        </Style>
        <!-- telemetry togglebutton stuff here -->
        <StackPanel x:Key="TelemetryOn">
            <Image Source="Images/telemetry_on.png" Width="48" Height="48" />
            <Label HorizontalContentAlignment="Center">Telemetry On</Label>
            <StackPanel.ToolTip>
                <Label>Telemetry is currently on, so positions will be updated in the GUI</Label>
            </StackPanel.ToolTip>
        </StackPanel>
        <StackPanel x:Key="TelemetryOff">
            <Image Source="Images/telemetry_off.png" Width="48" Height="48" />
            <Label HorizontalContentAlignment="Center">Telemetry Off</Label>
            <StackPanel.ToolTip>
                <Label>Telemetry is currently off, so positions will not be updated in the GUI</Label>
            </StackPanel.ToolTip>
        </StackPanel>
        <!--
        <Style TargetType="{x:Type ToggleButton}" x:Key="TelemetryToggleButtonStyle">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Content" Value="{DynamicResource TelemetryOn}" />
                </Trigger>
                <Trigger Property="IsChecked" Value="False">
                    <Setter Property="Content" Value="{DynamicResource TelemetryOff}" />
                </Trigger>
            </Style.Triggers>
        </Style>
        -->
        <!-- connect togglebutton stuff here -->
        <StackPanel x:Key="Connected">
            <Image Source="Images/connect_me.png" Width="48" Height="48" />
            <Label HorizontalContentAlignment="Center">Connected</Label>
            <StackPanel.ToolTip>
                <Label>Currently connected to Hive device</Label>
            </StackPanel.ToolTip>
        </StackPanel>
        <StackPanel x:Key="Disconnected">
            <Image Source="Images/disconnect.png" Width="48" Height="48" />
            <Label HorizontalContentAlignment="Center">Disconnected</Label>
            <StackPanel.ToolTip>
                <Label>Currently not connected to Hive device</Label>
            </StackPanel.ToolTip>
        </StackPanel>
        <Style TargetType="{x:Type ToggleButton}" x:Key="ConnectToggleButtonStyle">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Content" Value="{DynamicResource Connected}" />
                </Trigger>
                <Trigger Property="IsChecked" Value="False">
                    <Setter Property="Content" Value="{DynamicResource Disconnected}" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <!-- barcode reader connection feature-->
        <StackPanel x:Key="BcrConnected">
            <Image Source="Images/bcr_connected.png" Width="48" Height="48" />
            <Label HorizontalContentAlignment="Center">Connected</Label>
            <StackPanel.ToolTip>
                <Label>Currently connected to BCR</Label>
            </StackPanel.ToolTip>
        </StackPanel>
        <StackPanel x:Key="BcrDisconnected">
            <Image Source="Images/bcr_disconnected.png" Width="48" Height="48" />
            <Label HorizontalContentAlignment="Center">Disconnected</Label>
            <StackPanel.ToolTip>
                <Label>Currently not connected to BCR</Label>
            </StackPanel.ToolTip>
        </StackPanel>
        <Style TargetType="{x:Type ToggleButton}" x:Key="BarcodeReaderToggleButtonStyle">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Content" Value="{DynamicResource BcrConnected}" />
                </Trigger>
                <Trigger Property="IsChecked" Value="False">
                    <Setter Property="Content" Value="{DynamicResource BcrDisconnected}" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <!-- pass / fail togglebutton for servo enable / axis enable -->
        <StackPanel x:Key="Pass" Orientation="Horizontal">
            <Image Source="Images/success.png" Width="20" Height="20" />
            <Label HorizontalContentAlignment="Center">Enabled</Label>
        </StackPanel>
        <StackPanel x:Key="Fail" Orientation="Horizontal">
            <Image Source="Images/fail.png" Width="20" Height="20" />
            <Label HorizontalContentAlignment="Center">Disabled</Label>
        </StackPanel>
        <StackPanel x:Key="Pass2" Orientation="Horizontal">
            <Image Source="Images/success.png" Width="20" Height="20" />
            <Label HorizontalContentAlignment="Center">Enabled</Label>
        </StackPanel>
        <StackPanel x:Key="Fail2" Orientation="Horizontal">
            <Image Source="Images/fail.png" Width="20" Height="20" />
            <Label HorizontalContentAlignment="Center">Disabled</Label>
        </StackPanel>
        <StackPanel x:Key="Pass3" Orientation="Horizontal">
            <Image Source="Images/success.png" Width="20" Height="20" />
            <Label HorizontalContentAlignment="Center">Enabled</Label>
        </StackPanel>
        <StackPanel x:Key="Fail3" Orientation="Horizontal">
            <Image Source="Images/fail.png" Width="20" Height="20" />
            <Label HorizontalContentAlignment="Center">Disabled</Label>
        </StackPanel>
        <StackPanel x:Key="Pass4" Orientation="Horizontal">
            <Image Source="Images/success.png" Width="20" Height="20" />
            <Label HorizontalContentAlignment="Center">Enabled</Label>
        </StackPanel>
        <StackPanel x:Key="Fail4" Orientation="Horizontal">
            <Image Source="Images/fail.png" Width="20" Height="20" />
            <Label HorizontalContentAlignment="Center">Disabled</Label>
        </StackPanel>
        <Style TargetType="{x:Type ToggleButton}" x:Key="PassFailToggleButtonStyle">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Content" Value="{DynamicResource Pass}" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>
                <Trigger Property="IsChecked" Value="False">
                    <Setter Property="Content" Value="{DynamicResource Fail}" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>

            </Style.Triggers>
        </Style>
        <Style TargetType="{x:Type ToggleButton}" x:Key="PassFailToggleButtonStyle2">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Content" Value="{DynamicResource Pass2}" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>
                <Trigger Property="IsChecked" Value="False">
                    <Setter Property="Content" Value="{DynamicResource Fail2}" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>

            </Style.Triggers>
        </Style>
        <Style TargetType="{x:Type ToggleButton}" x:Key="PassFailToggleButtonStyle3">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Content" Value="{DynamicResource Pass3}" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>
                <Trigger Property="IsChecked" Value="False">
                    <Setter Property="Content" Value="{DynamicResource Fail3}" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>

            </Style.Triggers>
        </Style>
        <Style TargetType="{x:Type ToggleButton}" x:Key="PassFailToggleButtonStyle4">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Content" Value="{DynamicResource Pass4}" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>
                <Trigger Property="IsChecked" Value="False">
                    <Setter Property="Content" Value="{DynamicResource Fail4}" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>

            </Style.Triggers>
        </Style>
        <Style TargetType="{x:Type ToggleButton}" x:Key="PassFailNoImageToggleButtonStyle">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Content" Value="Enabled" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>
                <Trigger Property="IsChecked" Value="False">
                    <Setter Property="Content" Value="Disabled" />
                    <Setter Property="Margin" Value="0,10,0,10" />
                    <Setter Property="MinHeight" Value="30" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <!-- images -->
        <Image x:Key="CheckOnImage" Source="Images/success.png" Width="20" Height="20" />
        <Image x:Key="CheckOffImage" Source="Images/fail.png" Width="20" Height="20" />
        <!-- multiconverter for params to Servo commands -->
        <local:ServoOnOffAxisMultiConverter x:Key="ServoAxisConverter" />
    </UserControl.Resources>
    
    <DockPanel>
        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusText}"></TextBlock>
            </StatusBarItem>
            <Separator></Separator>
            <StatusBarItem>
                <TextBlock Name="StatusMsgRecv">Msg Recv</TextBlock>
            </StatusBarItem>
            <Separator></Separator>
        </StatusBar>
        <!-- servo status -->
        <Grid DockPanel.Dock="Bottom">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" MinHeight="26"></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <!-- axis headers for homing, servo, disabled status-->
            <Label Grid.Row="0" Grid.Column="1" HorizontalContentAlignment="Center">X</Label>
            <Label Grid.Row="0" Grid.Column="2" HorizontalContentAlignment="Center">Z</Label>
            <Label Grid.Row="0" Grid.Column="3" HorizontalContentAlignment="Center">Theta</Label>
            <Label Grid.Row="0" Grid.Column="4" HorizontalContentAlignment="Center">Gripper</Label>
            <Label Grid.Row="0" Grid.Column="5" HorizontalContentAlignment="Center">Y</Label>
            <!-- homed status -->
            <Label Grid.Row="1" Grid.Column="0" HorizontalContentAlignment="Right" VerticalContentAlignment="Center">Home Status:</Label>
            <Image Grid.Row="1" Grid.Column="1" HorizontalAlignment="Center" Width="20">
                <Image.Style>
                    <Style>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding AxisHomeStatus.X}" Value="true">
                                <Setter Property="Image.Source" Value="Images/success.png" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding AxisHomeStatus.X}" Value="false">
                                <Setter Property="Image.Source" Value="Images/fail.png" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>
            <Image Grid.Row="1" Grid.Column="2" HorizontalAlignment="Center" Width="20">
                <Image.Style>
                    <Style>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding AxisHomeStatus.Z}" Value="true">
                                <Setter Property="Image.Source" Value="Images/success.png" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding AxisHomeStatus.Z}" Value="false">
                                <Setter Property="Image.Source" Value="Images/fail.png" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>                
            <Image Grid.Row="1" Grid.Column="3" HorizontalAlignment="Center" Width="20">
                <Image.Style>
                    <Style>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding AxisHomeStatus.T}" Value="true">
                                <Setter Property="Image.Source" Value="Images/success.png" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding AxisHomeStatus.T}" Value="false">
                                <Setter Property="Image.Source" Value="Images/fail.png" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>
            <Image Grid.Row="1" Grid.Column="4" HorizontalAlignment="Center" Width="20">
                <Image.Style>
                    <Style>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding AxisHomeStatus.G}" Value="true">
                                <Setter Property="Image.Source" Value="Images/success.png" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding AxisHomeStatus.G}" Value="false">
                                <Setter Property="Image.Source" Value="Images/fail.png" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>
            <!-- servo status -->
            <Label Grid.Row="2" HorizontalContentAlignment="Right" VerticalContentAlignment="Center">Servo Enable:</Label>
            <ToggleButton Grid.Row="2" Grid.Column="1" Tag="1" Command="{Binding ServoAxisCommand}" IsChecked="{Binding ServoOnStatus.X}" Style="{StaticResource PassFailToggleButtonStyle}" HorizontalContentAlignment="Center" Background="Transparent" BorderBrush="Transparent" BorderThickness="0">
                <ToggleButton.CommandParameter>
                    <MultiBinding Converter="{StaticResource ServoAxisConverter}">
                        <MultiBinding.Bindings>
                            <Binding Path="IsChecked" RelativeSource="{RelativeSource Mode=Self}" />
                            <Binding Path="Tag" RelativeSource="{RelativeSource Mode=Self}" />
                        </MultiBinding.Bindings>
                    </MultiBinding>
                </ToggleButton.CommandParameter>
            </ToggleButton>
            <ToggleButton Grid.Row="2" Grid.Column="2" Tag="3" Command="{Binding ServoAxisCommand}" IsChecked="{Binding ServoOnStatus.Z}" Style="{StaticResource PassFailToggleButtonStyle2}" HorizontalContentAlignment="Center" Background="Transparent" BorderBrush="Transparent" BorderThickness="0">
                <ToggleButton.CommandParameter>
                    <MultiBinding Converter="{StaticResource ServoAxisConverter}">
                        <MultiBinding.Bindings>
                            <Binding Path="IsChecked" RelativeSource="{RelativeSource Mode=Self}" />
                            <Binding Path="Tag" RelativeSource="{RelativeSource Mode=Self}" />
                        </MultiBinding.Bindings>
                    </MultiBinding>
                </ToggleButton.CommandParameter>
            </ToggleButton>
            <ToggleButton Grid.Row="2" Grid.Column="3" Tag="5" Command="{Binding ServoAxisCommand}" IsChecked="{Binding ServoOnStatus.T}" Style="{StaticResource PassFailToggleButtonStyle3}" HorizontalContentAlignment="Center" Background="Transparent" BorderBrush="Transparent" BorderThickness="0">
                <ToggleButton.CommandParameter>
                    <MultiBinding Converter="{StaticResource ServoAxisConverter}">
                        <MultiBinding.Bindings>
                            <Binding Path="IsChecked" RelativeSource="{RelativeSource Mode=Self}" />
                            <Binding Path="Tag" RelativeSource="{RelativeSource Mode=Self}" />
                        </MultiBinding.Bindings>
                    </MultiBinding>
                </ToggleButton.CommandParameter>                
            </ToggleButton>
            <ToggleButton Grid.Row="2" Grid.Column="4" Tag="6" Command="{Binding ServoAxisCommand}" IsChecked="{Binding ServoOnStatus.G}" Style="{StaticResource PassFailToggleButtonStyle4}" HorizontalContentAlignment="Center" Background="Transparent" BorderBrush="Transparent" BorderThickness="0">
                <ToggleButton.CommandParameter>
                    <MultiBinding Converter="{StaticResource ServoAxisConverter}">
                        <MultiBinding.Bindings>
                            <Binding Path="IsChecked" RelativeSource="{RelativeSource Mode=Self}" />
                            <Binding Path="Tag" RelativeSource="{RelativeSource Mode=Self}" />
                        </MultiBinding.Bindings>
                    </MultiBinding>
                </ToggleButton.CommandParameter>                
            </ToggleButton>
            <!-- positions -->
            <Label Grid.Row="3" HorizontalAlignment="Right" VerticalAlignment="Center" VerticalContentAlignment="Center">Position:</Label>
            <TextBox Grid.Row="3" Grid.Column="1" HorizontalContentAlignment="Center" Style="{StaticResource PositionStyle}" Text="{Binding CurrentWorldPosition.X, Converter={StaticResource PositionFormatConverter}, ConverterParameter='\{0:0.000\}'}" Margin="3,4,3,2"></TextBox>
            <TextBox Grid.Row="3" Grid.Column="2" HorizontalContentAlignment="Center" Style="{StaticResource PositionStyle}" Text="{Binding CurrentToolPosition.Z, Converter={StaticResource PositionFormatConverter}, ConverterParameter='\{0:0.000\}'}"></TextBox>
            <TextBox Grid.Row="3" Grid.Column="3" HorizontalContentAlignment="Center" Style="{StaticResource PositionStyle}" Text="{Binding CurrentWorldPosition.T, Converter={StaticResource PositionFormatConverter}, ConverterParameter='\{0:0.000\}'}"></TextBox>
            <TextBox Grid.Row="3" Grid.Column="4" HorizontalContentAlignment="Center" Style="{StaticResource PositionStyle}" Text="{Binding CurrentWorldPosition.G, Converter={StaticResource PositionFormatConverter}, ConverterParameter='\{0:0.000\}'}"></TextBox>        
            <TextBox Grid.Row="4" Grid.Column="5" HorizontalContentAlignment="Center" Style="{StaticResource PositionStyle}" Text="{Binding CurrentToolPosition.Y, Converter={StaticResource PositionFormatConverter}, ConverterParameter='\{0:0.000\}'}"></TextBox>
        </Grid>
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="3">
            <!-- TODO: need to figure out best way to make this togglebutton uncheck itself if we lose the connection -->
            <ToggleButton Name="button_connect" Margin="3" Width="100" IsChecked="{Binding Initialized}" Style="{StaticResource ConnectToggleButtonStyle}" Command="{Binding ConnectCommand}" CommandParameter="{Binding ElementName=button_connect, Path=IsChecked}" />
            <Button Margin="3" Width="100" Command="{Binding ServosOnCommand}">
                <Button.Content>
                    <StackPanel>
                        <Image Source="Images/servos_on.png" Width="48" />
                        <Label HorizontalContentAlignment="Center">Servos On</Label>
                    </StackPanel>
                </Button.Content>
            </Button>
            <Button Margin="3" Width="100" Command="{Binding ServosOffCommand}">
                <Button.Content>
                    <StackPanel>
                        <Image Source="Images/servos_off.png" Width="48" />
                        <Label HorizontalContentAlignment="Center">Servos Off</Label>
                    </StackPanel>
                </Button.Content>
            </Button>
            <Button Margin="3" Width="100" Command="{Binding ResetInterlocksCommand}">
                <Button.Content>
                    <StackPanel>
                        <Image Source="Images/eraser.png" Width="48" />
                        <Label HorizontalContentAlignment="Center">Reset Interlocks</Label>
                    </StackPanel>
                </Button.Content>
            </Button>
            <Button Margin="3" Width="100" Command="{Binding StopAllCommand}">
                <Button.Content>
                    <StackPanel>
                        <Image Source="Images/stop.png" Width="48" />
                        <Label HorizontalContentAlignment="Center">Stop All</Label>
                    </StackPanel>
                </Button.Content>
            </Button>
            <!--
            <ToggleButton Name="button_telemetry" Margin="3" Width="100" Style="{StaticResource TelemetryToggleButtonStyle}" IsChecked="{Binding TelemetryEnabled}" Command="{Binding TelemetryCommand}" CommandParameter="{Binding ElementName=button_telemetry, Path=IsChecked}" />
            -->
            <!-- disconnect barcode reader -->
            <ToggleButton Name="bcr_connected" Margin="3" Width="100" IsChecked="{Binding BarcodeReaderConnected}" Style="{StaticResource BarcodeReaderToggleButtonStyle}" Command="{Binding ConnectBarcodeReaderCommand}" CommandParameter="{Binding ElementName=bcr_connected, Path=IsChecked}" />
            <GroupBox Header="Speed Control" Width="Auto">
                <StackPanel>
                    <Slider Name="slider_speed" Minimum="20" Maximum="{Binding MaxAllowableSpeed}" Value="{Binding Speed, Mode=TwoWay}" Ticks="{Binding AllowableSpeeds}" IsSnapToTickEnabled="True"></Slider>
                    <Separator />
                    <TextBox Text="{Binding ElementName=slider_speed, Path=Value, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                </StackPanel>                    
            </GroupBox>
        </StackPanel>
        <!-- main functionality goes here, hosted by user controls -->
        <TabControl DockPanel.Dock="Top" SelectedIndex="0">
            <TabItem Header="Jogging and Homing" Height="50">
                <local:JogHome x:Name="joghome_control" Width="Auto" Height="Auto" />
            </TabItem>
            <TabItem Header="Teach / Pick and Place">
                <local:Teach x:Name="teach_control" Width="Auto" Height="Auto" />
            </TabItem>
            <TabItem Header="Auto Teach (Experimental)">
                <local:AutoTeach x:Name="autoteach_control" Width="Auto" Height="Auto" />
            </TabItem>
            <TabItem Header="Teachpoint Cycler">
                <local:Cycler x:Name="cycler_control" Width="Auto" Height="Auto" />
            </TabItem>
            <!--
            <TabItem Header="Storage Configuration" x:Name="storage_configuration_tab" />
            -->
            <TabItem Header="Inventory" x:Name="inventory_tab">
                <!-- Inventory needs to be added via code behind because we need to set the data context -->
            </TabItem>
            <TabItem Header="Engineering" Visibility="{Binding EngineeringTabVisibility}">
                <local:Engineering x:Name="engineering_control" Width="Auto" Height="Auto" />
            </TabItem>
            <TabItem Header="Maintenance" Visibility="{Binding MaintenanceTabVisibility}">
                <DockPanel>
                    <GroupBox DockPanel.Dock="Left" Header="Engineering Functions">
                        <StackPanel Orientation="Vertical">
                            <Button Command="{Binding ReloadMotorSettingsCommand}">Reload Motor Settings</Button>
                        </StackPanel>
                    </GroupBox>
                    <tsm:CycleTester x:Name="cycler" Height="Auto" Width="Auto" />
                </DockPanel>
            </TabItem>
            <TabItem Header="Barcode Reader Tools" Visibility="{Binding MaintenanceTabVisibility}" Content="{Binding Mini3Control}" />
        </TabControl>
    </DockPanel>
</UserControl>
