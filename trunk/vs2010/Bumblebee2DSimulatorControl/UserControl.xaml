<UserControl x:Class="BioNex.Bumblebee2DSimulatorControl.Simulation"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:BioNex.Bumblebee2DSimulatorControl"
    Height="300" Width="300">
   
    <Viewbox>
        <Canvas Width="640" Height="480">
            <!-- draw stages first so tips appear above them -->
            <local:Plate x:Name="Plate1" Canvas.Left="100" Canvas.Top="{Binding Y, Mode=OneWay}" RenderTransformOrigin="0.5,0.5">
                <local:Plate.RenderTransform>
                    <RotateTransform Angle="{Binding R, Mode=OneWay}" />
                </local:Plate.RenderTransform>
            </local:Plate>
            <local:Plate x:Name="Plate2" Canvas.Left="255" Canvas.Top="{Binding Y, Mode=OneWay}" RenderTransformOrigin="0.5,0.5">
                <local:Plate.RenderTransform>
                    <RotateTransform Angle="{Binding R, Mode=OneWay}" />
                </local:Plate.RenderTransform>
            </local:Plate>
            <local:Plate x:Name="Plate3" Canvas.Left="410" Canvas.Top="{Binding Y, Mode=OneWay}" RenderTransformOrigin="0.5,0.5">
                <local:Plate.RenderTransform>
                    <RotateTransform Angle="{Binding R, Mode=OneWay}" />
                </local:Plate.RenderTransform>
            </local:Plate>
            <!-- now draw tips -->
            <local:Tip x:Name="Tip1" Canvas.Left="{Binding X, Mode=OneWay}" Canvas.Top="50" />
            <local:Tip x:Name="Tip2" Canvas.Left="{Binding X, Mode=OneWay}" Canvas.Top="66" />
            <local:Tip x:Name="Tip3" Canvas.Left="{Binding X, Mode=OneWay}" Canvas.Top="82" />
            <local:Tip x:Name="Tip4" Canvas.Left="{Binding X, Mode=OneWay}" Canvas.Top="98" />
        </Canvas>        
    </Viewbox>
</UserControl>
